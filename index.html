<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Quiz Slide</title>
    
    <link rel="stylesheet" href="node_modules/reveal.js/dist/reveal.css">
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <div class="reveal">
        <div class="slides">
            <!-- Markdownファイルを読み込む -->
            <section data-markdown="quiz.md"
                     data-separator="^\r?\n---\r?\n"
            >
            </section>
        </div>
    </div>

    <script type="module">
        import Reveal from './node_modules/reveal.js/dist/reveal.esm.js';
        import Markdown from './node_modules/reveal.js/plugin/markdown/markdown.esm.js';
        
        // Reveal.jsを初期化
        Reveal.initialize({
            controls: false,
            progress: false,
            hash: true,
            // 4:3比率の設定
            width: 800, height: 600,
            margin: 0,
            minScale: 1,
            maxScale: 1,
            center: true,
            disableLayout: false,
            transition: 'none',
            // Markdownプラグインを有効化
            plugins: [ Markdown ]
        });

        // カウントダウンタイマーの実装
        function startCountdown() {
            const h1Element = document.querySelector('h1');
            if (!h1Element) return;
            
            // タイマー表示用のdiv要素を作成
            const timerElement = document.createElement('div');
            timerElement.className = 'countdown-timer';
            timerElement.textContent = '10';
            h1Element.parentElement.appendChild(timerElement);
            
            let time = 10;
            const timer = setInterval(() => {
                time--;
                timerElement.textContent = time;
                
                if (time <= 0) {
                    clearInterval(timer);
                }
            }, 1000);
        }

        Reveal.addEventListener('with-timer', startCountdown);
    </script>
</body>
</html>